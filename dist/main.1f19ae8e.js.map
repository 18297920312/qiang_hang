{"version":3,"sources":["main.js"],"names":["$siteList","$","$li","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","name","url","simplify","replace","render","remove","forEach","node","index","insertBefore","on","e","console","log","stopPropagation","splice","window","open","link","prompt","indexOf","upCase","toUpperCase","push","onbeforeunload","string","stringify","setItem"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["let $siteList = $('.siteList');\r\nlet $li;\r\nlet $lastLi = $siteList.find('.addButton');\r\nconst x = localStorage.getItem('x'); //从本地存储里面取出 x\r\nconst xObject = JSON.parse(x);  //把字符串变成对象\r\nconst hashMap = xObject || [  //如果 x 为空字符串，那么hashMap的值为数组\r\n    {logo:'A',name:'acfun.com',url:'https://www.acfun.com'},\r\n    {logo:'B',name:'bilibili.com',url:'https://www.bilibili.com'}\r\n];\r\n\r\n\r\n\r\nconst simplify = (name) => {// 简化字符\r\n    // console.log(url);\r\n    return name.replace(\"https://\",\"\")\r\n                .replace(\"htttp://\",\"\")\r\n                .replace(\"www.\",\"\")\r\n};\r\n\r\n\r\n\r\nconst render = () => { // 页面渲染 \r\n    $siteList.find('li:not(.addButton)').remove();\r\n    hashMap.forEach((node,index) => {\r\n        $li = $(`\r\n        <li>\r\n            <div class=\"site\">\r\n                <div class=\"logo\">${node.logo}</div>\r\n                <div class=\"link\">${node.name}</div>\r\n                <div class=\"close\">\r\n                            <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-close\"></use>\r\n                            </svg>\r\n                </div>\r\n            </div>\r\n        </li>\r\n        `).insertBefore($lastLi);\r\n\r\n        $li.on('click','.close',(e) => { // 点击叉叉关闭按钮\r\n            console.log('被点击了');\r\n            e.stopPropagation();\r\n            hashMap.splice(index,1);\r\n            render();\r\n        })\r\n\r\n        $li.on('click',() => { // 点击打开链接\r\n            window.open(node.url);\r\n        })\r\n    }) \r\n    // let num = document.querySelectorAll('main li');\r\n    // console.log(num.length);\r\n    // if(num.length === 2){\r\n    //     $siteList.attr('display','none');\r\n    // }\r\n}\r\n\r\nrender();\r\n\r\n\r\n\r\n\r\n$('.addButton')\r\n    .on('click',() => {\r\n        let link = window.prompt('请输入网址：');\r\n        if(link === ''){ // 防止用户输入字符为空\r\n            return;\r\n        }\r\n        else if (link.indexOf('http') !== 0){ // 规范网址\r\n            link = 'https://' + link;\r\n        }\r\n        let upCase = simplify(link);\r\n        upCase = upCase[0].toUpperCase();\r\n        hashMap.push({ \r\n            logo: upCase,\r\n            name: simplify(link),\r\n            url: link, \r\n        });\r\n        render();\r\n        console.log(hashMap);\r\n    });\r\n\r\n    window.onbeforeunload = () => {\r\n        const string = JSON.stringify(hashMap); // 将对象保存为字符串\r\n        localStorage.setItem('x',string); // 在本地存储里面保存一个x，他的值就是string\r\n    }\r\n\r\n\r\n\r\n"]}